Проснулся сегодня и вспомнил о вчерашнем тупике. Понял, что попал в него потому, что действовал снова старым путем. Гнал куда-то, а потом смотрел, что получится.  Решил действовать сегодня от тестов. Написать первый тест для аутентикации в модели User.

Протестировал наконец модель на пример пароля и емайла. Рад этому достижению. Двигаюсь медленно, но очень уверенно вперед вместе с тестами. 

Уперся в тестирование контроллера UserSessionsController,  который отвечает за аутентикацию.
Нашел очень интересную статью на эту тему [Integration Testing with Rspec, Capybara and Fabricator: https://github.com/NoamB/sorcery/wiki/Integration-Testing-with-Rspec,-Capybara-and-Fabricator]. Здесь используется некий Fabricator, но это практически то же, что и FactoryGirl - на данном этапе все равно, что использовать. 

Ебся я с этим контроллером и понял, что все это нафиг не нужно, за редчайшим исключением. Вся функциональность контроллеров, хелперов, и вьюх просто тестируется кликами в страничке. 

Запустил кликера. Наконец увидел долгожданную открывающуюся страничку браузера. 
Сразу же поднялось немеренно проблем: 
* надо запускать тесты на другом порту и с другой базой данных
* хотелось бы эту базу данных в чем-то смотреть
* желательно оформить страничку, чтобы были flash:  notice, alert, ...
* оформить ее лучше всего сразу же в bootstrap
* нужно генерить автоматически генерить controller и view для модели User
Почувствовал себя слишком вымотанным и уснул на радостях. 

Проснулся полон сил. Хотел сегодня ехать к бабам, но решил все же закончить сприт. Прям как Ильич, бля!

Скорее всего сегодня я все не закончу, но двигаюсь уверенно и правильно. 

Блин, что может быть проще моей задачи? Тестирование с тестовой базой. Только вот нифига не найти примеров. Все как-то не до

Ну что же буду делать это сам. 

Запустил в режиме отладки из RubyMine приложение на порту 3001 в среде test. 
Все в порядке, вернее не в порядке, но запуск тестов из консоли позволяет очутиться в нужном контроллере. Уже шаг впред, чтобы две базы данных не путались друг с другом. Хотя, если вести разработку таким вот образом, то я не понимаю зачем вообще нужна development база данных?

Ее нужно перед старном загрузить правильным пользователем. Тут девки нам не помогут. Они создают нечто виртуальное. Мне удобнее всего делать это через загрузку fixtures, как я делал всегда. 
